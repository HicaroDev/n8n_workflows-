{"createdAt":"2025-05-17T02:11:22.175Z","updatedAt":"2025-05-17T16:02:14.000Z","id":"T5NT9hY8SvPZ5Vo1","name":"chat_html","active":true,"nodes":[{"parameters":{"path":"09e38a1b-748f-44a2-bb6b-5b5fb227f76b","responseMode":"responseNode","options":{}},"type":"n8n-nodes-base.webhook","typeVersion":2,"position":[0,0],"id":"dc59f97b-c95e-4dda-b478-8395530933dc","name":"Webhook","webhookId":"09e38a1b-748f-44a2-bb6b-5b5fb227f76b"},{"parameters":{"html":"<!DOCTYPE html>\n<html lang=\"pt-BR\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Chat Personalizado</title>\n    <style>\n        body {\n            font-family: Arial, sans-serif;\n            margin: 0;\n            padding: 0;\n            background-color: #f4f4f4;\n        }\n        #chat-container {\n            max-width: 600px;\n            margin: 20px auto;\n            border: 1px solid #ccc;\n            border-radius: 8px;\n            background-color: #fff;\n            box-shadow: 0 2px 5px rgba(0,0,0,0.1);\n        }\n        #chat-box {\n            height: 400px;\n            overflow-y: auto;\n            padding: 10px;\n            border-bottom: 1px solid #ccc;\n        }\n        .message {\n            margin: 10px;\n            padding: 10px;\n            border-radius: 5px;\n            max-width: 80%;\n        }\n        .user-message {\n            background-color: #007bff;\n            color: white;\n            margin-left: auto;\n            text-align: right;\n        }\n        .bot-message {\n            background-color: #e9ecef;\n            color: black;\n            margin-right: auto;\n        }\n        #input-container {\n            display: flex;\n            padding: 10px;\n        }\n        #message-input {\n            flex: 1;\n            padding: 10px;\n            border: 1px solid #ccc;\n            border-radius: 4px;\n            margin-right: 10px;\n        }\n        #send-button {\n            padding: 10px 20px;\n            background-color: #007bff;\n            color: white;\n            border: none;\n            border-radius: 4px;\n            cursor: pointer;\n        }\n        #send-button:hover {\n            background-color: #0056b3;\n        }\n    </style>\n</head>\n<body>\n    <div id=\"chat-container\">\n        <div id=\"chat-box\"></div>\n        <div id=\"input-container\">\n            <input type=\"text\" id=\"message-input\" placeholder=\"Digite sua mensagem...\">\n            <button id=\"send-button\">Enviar</button>\n        </div>\n    </div>\n\n    <script>\n        const chatBox = document.getElementById('chat-box');\n        const messageInput = document.getElementById('message-input');\n        const sendButton = document.getElementById('send-button');\n\n        // Substitua pela URL do seu webhook do n8n\n        const webhookUrl = 'https://webhook.dev.radtec.site/webhook/09e38a1b-748f-44a2-bb6b-5b5fb227f76b';\n\n        // Função para adicionar uma mensagem ao chat\n        function addMessage(text, isUser) {\n            const messageDiv = document.createElement('div');\n            messageDiv.classList.add('message');\n            messageDiv.classList.add(isUser ? 'user-message' : 'bot-message');\n            messageDiv.textContent = text;\n            chatBox.appendChild(messageDiv);\n            chatBox.scrollTop = chatBox.scrollHeight;\n        }\n\n        // Função para enviar mensagem ao webhook do n8n\n        async function sendMessage() {\n            const message = messageInput.value.trim();\n            if (!message) return;\n\n            addMessage(message, true);\n            messageInput.value = '';\n\n            try {\n                const response = await fetch(webhookUrl, {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                    },\n                    body: JSON.stringify({ message }),\n                });\n\n                const data = await response.json();\n                const botResponse = data.response || 'Desculpe, nenhuma resposta recebida.';\n                addMessage(botResponse, false);\n            } catch (error) {\n                addMessage('Erro: Não foi possível conectar ao servidor.', false);\n            }\n        }\n\n        // Event listeners\n        sendButton.addEventListener('click', sendMessage);\n        messageInput.addEventListener('keypress', (e) => {\n            if (e.key === 'Enter') sendMessage();\n        });\n    </script>\n</body>\n</html>"},"type":"n8n-nodes-base.html","typeVersion":1.2,"position":[220,0],"id":"43f37b4c-3974-4cc7-a97b-02eee1df217d","name":"HTML"}],"connections":{"Webhook":{"main":[[{"node":"HTML","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":null,"pinData":{},"versionId":"52608b74-f8ec-49d2-bb59-ac7597d5ee26","triggerCount":1,"tags":[]}